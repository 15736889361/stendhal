<html>
  <head>
    <title>Stendhal Mapeditor Manual</title>
    <style type="text/css">
		<!--
		  span.xml       {color:green;}
		  span.attribute {color:blueviolet;}
		  span.value     {color:cornflowerblue;}
		  span.text      {color:white;}
		  span.comment   {color:darkgrey;}
		  
		-->
	</style>
  </head>

  <body>
    <h2 align="center">Stendhal Mapeditor Manual</h2>
    <div align="center">based on <a href="http://tiled.rpgdx.net/">Tiled</a></div>

    <h3>1. Overview</h3>
    <p>The Stendhal Mapeditor is a modification of <a href="http://tiled.rpgdx.net/">Tiled</a>.</p>
    <p>Some features</p>
    <ul>
    	<li>Multitile Brush</li>
    	<li>Builders</li>
    </ul>
    
    <h3>2. Using The Interface</h3>
    <img src="bigpicture.png" alt="main screen" title="main screen">

    <h4>2.1 Minimap</h4>
		<p>The minimap is a direct representation of the main map (at scale 6%). Clicking in the minimap scrolls
       the main panel. Note that the minimap ignores the hidden attribute of the layers. More infos on layers in
       <a href="#layers">section 2.3</a></p>
    
    <h4>2.2 Tilesets</h4>
		<p>Choose the current tile from the pane. You can select multiple tiles and them them at once on the map.
		   If you drag the the mouse on the map the default builder makes sure the brushes do not overlap each other.</p>
		<img src="tileset1.png"              alt="select multiple tiles" title="select multiple tiles">
    <img src="tileset_brush_cursor.png"  alt="watch the cursor size" title="watch the cursor size">
    <img src="tileset_brush_draw.png"    alt="place all selected tiles at once" title="place all selected tiles at once">
    <img src="tileset_brush_builder.png" alt="builder in action"     title="builder in action">

		<a name="layers"></a>
    <h4>2.3 Layers</h4>
    <p>Select the layer you want to edit. Hidden layers won't be shown, locked layers won't be modified. Last but not least you
       can set the layer opacity.</p>
    <img src="layers.png" alt="builder in action" title="builder in action">
    
    <h4>2.4 Toolbar</h4>
    <p>Well, the toolbar is mostly nonfuntional at the moment:</p>
    <table border="1">
	    <tr><td><img src="toolbar_move.png"      alt="move"        title="move"></td>       <td>move</td>       <td>not working</td></tr>
	    <tr><td><img src="toolbar_paint.png"     alt="paint"       title="paint"></td>      <td>paint</td>      <td>paint with builders</td></tr>
	    <tr><td><img src="toolbar_delete.png"    alt="delete"      title="delete"></td>     <td>delete</td>     <td>not working</td></tr>
	    <tr><td><img src="toolbar_pour.png"      alt="pour"        title="pour"></td>       <td>pour</td>       <td>not working</td></tr>
	    <tr><td><img src="toolbar_eye.png"       alt="Eye dropper" title="Eye dropper"></td><td>Eye dropper</td><td>not working</td></tr>
	    <tr><td><img src="toolbar_selection.png" alt="selection"   title="selection"></td>  <td>selection</td>  <td>not working</td></tr>
	    <tr><td><img src="toolbar_zoom.png"      alt="zoom"        title="zoom"></td>       <td>zoom</td>       <td>zoom in/out</td></tr>
    </table>

    <h3>3. Advanced features</h3>

    <h4>3.1 Brushes</h4> 
    <p>A brush is a set of tiles. These tiles can be layer independent or bound to a specific layer. Brushes are used only by builders.</p>

    <h4>3.2 Builders</h4> 
    <p>The builders draw the current brush to the map. The default builder makes sure the brushes don't overlap each other
       when you drag the mouse around.</p>
    <p>
    	Bad builder, the brushes overlap each other. We don't do this.
    	<br>
    	(Note: You may know this feature from RPG-Maker 2000)
    	<br>
    	<img src="builder_bad.png" alt="bad builder" title="bad builder">
    </p>
    <p>
    	This is the way to go. Remember to *drag* the mouse.
    	<br>
      <img src="builder_good.png" alt="good builder" title="good builder">
    </p>

    <h4>3.3 Properties</h4> 
    <p>You can set arbitrary properties for each tile. Just rightclick on the specified tile.
    <br>
    Same goes with map properties. Rightclick on the position where you want to edit.</p>
    
    <ul>
     <li>left - tile properties</li>
     <li>middle - tile and map properties</li>
     <li>left - map properties</li>
    </ul>
    <img src="properties.png" alt="properties" title="properties">
    
    <p>
      Additionally you can set properties for the whole map and each of the layers
    </p>
    
    <h3>4. *.stend file format</h3>
<pre style="background-color:black; font-size:120%">
<span class="xml">
<b>
&lt;map <span class="attribute">name=</span><span class="value">"semos_forest"</span> <span class="attribute">width=</span><span class="value">"128"</span> <span class="attribute">height=</span><span class="value">"128"</span>&gt;
  &lt;size <span class="attribute">width=</span><span class="value">"128"</span> <span class="attribute">height=</span><span class="value">"128"</span> /&gt; <span class="comment">&lt;!-- deprecated --&gt;</span>
  <span class="comment">&lt;!-- map properties --&gt;</span>
  &lt;properties&gt;<span class="text">
    x=500000
    y=500128
  </span>&lt;/properties&gt;
  <span class="comment">&lt;!-- tileset definition, repeated for each tileset --&gt;</span>
  &lt;tileset <span class="attribute">name=</span><span class="value">"Outside 0"</span> <span class="attribute">firstgid=</span><span class="value">"1"</span> <span class="attribute">tilewidth=</span><span class="value">"32"</span> <span class="attribute">tileheight=</span><span class="value">"32"</span>&gt;
    &lt;image <span class="attribute">source=</span><span class="value">"../zelda_outside_0_chipset.png"</span>/&gt;
    <span class="comment">&lt;!-- Tile properties, only for tiles with properties set --&gt;</span>
    &lt;tile <span class="attribute">id=</span><span class="value">"10"</span>&gt;
      &lt;properties&gt;<span class="text">
        subclass=sheep
        object=creature
        class=sheep
      </span>&lt;/properties&gt;
    &lt;/tile&gt;
  &lt;/tileset&gt;

  &lt;layer <span class="attribute">name=</span><span class="value">"0_floor"</span> <span class="attribute">opacity=</span><span class="value">"1.0"</span>&gt;<span class="text">
    9,9,9,9,9,9,9,9,9, [..]
    9,9,9,9,9,9,9,9,9, [..]
  [..]
  </span>&lt;/layer&gt;
  <span class="comment">&lt;!-- the properties layer --&gt;</span>
  &lt;propertieslayer&gt;
    <span class="comment">&lt;!-- repeated for each tile with properties --&gt;</span>
    &lt;tile <span class="attribute">x=</span><span class="value">"0"</span> <span class="attribute">y=</span><span class="value">"0"</span>&gt;
      &lt;properties&gt;<span class="text">
        test=test
      </span>&lt;/properties&gt;
    &lt;/tile&gt;
  &lt;/propertieslayer&gt;
&lt;/map&gt;
</b>
</span>
</pre>
  </body>
</html>


